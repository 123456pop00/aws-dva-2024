---
icon: database
---

# S3

## Versioning

* **Versioning** ensures that each object has a unique version ID, which is crucial for replication to correctly manage multiple versions of objects.
* If versioning is not enabled at the time of bucket creation, objects will have a `null` version ID.
* Bucket versioning settings cannot be changed back to unversioned once enabled; they can only be suspended or re-enabled.
* **Permanent Deletion**:
  * _permanently delete ->_ will remove '**delete marker'** and restore object
  * Deleting all versions, including any delete markers, permanently removes the object from the bucket.
* No changing of bucket versioning, so B1->B2 and B2->B3 will work not B1-> B3
* By default, **delete markers** are not replicated in **cross-region replication (CRR)** or **same-region replication (SRR)**. This means deleting an object in the source bucket will not delete it in the destination bucket unless explicitly configured.
  * To replicate deletions, enable the **replication of delete markers** in the replication rules. This is for s3 delete operations, <mark style="color:green;">Delete markers created by lifecycle rules will not be replicated.</mark>
* **Replication:**
* SRR or CRR, only works if **versioning is enabled .**
  *   **SRR:**

      * **Replication Cost:** No additional charge for replicating data within the same AWS region.
      * **Storage Cost:** Standard storage costs for the objects in both the source and target buckets&#x20;
      * **Request Charges:** You pay for the PUT requests in the destination bucket when objects are replicated.

      &#x20;&#x20;
  * **CRR:**
    * **Replication Cost:** You incur additional data transfer costs for replicating data across AWS regions.
    * **Storage Cost:** You pay for storage in both the source and destination buckets (in different regions).
    * **Request Charges:** Similar to SRR, you pay for the PUT requests in the destination bucket.
    * **Data Transfer Costs:** Since data is replicated across regions, there are additional **data transfer** costs associated with CRR.
* Batch Replication - ensures that existing and objects that **failed to replicate** (e.g., due to a misconfiguration, network issue, etc.) are replicated.
  * You can initiate batch replication for specific objects or a group of objects in a bucket.
  * It is useful for ensuring consistency
  * after you enable replication, only new object are replicated\*
